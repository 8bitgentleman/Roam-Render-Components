[
  {
    "create-time": 1619702918387,
    "title": "roam/render",
    ":create/user": {
      ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
    },
    "children": [
      {
        "edit-time": 1620145717680,
        "children": [
          {
            "string": "**Author**",
            "create-time": 1620145789299,
            ":create/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            },
            "children": [
              {
                "string": "Matt Vogel",
                "create-time": 1620145808142,
                "uid": "rAfx0bEo7",
                "edit-time": 1620145850674,
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              },
              {
                "string": "Twitter:: [@todayIwasbetter](https://twitter.com/todayIwasbetter)",
                "create-time": 1620145828486,
                ":block/refs": [
                  {
                    ":block/uid": "7Onzp6PaL"
                  }
                ],
                "refs": [
                  {
                    "uid": "7Onzp6PaL"
                  }
                ],
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                "uid": "IHHyJwgy_",
                "edit-time": 1620145830471,
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              },
              {
                "string": "How Best To Contact Me:: Roam Slack, Twitter and my are good",
                "create-time": 1620145835920,
                ":block/refs": [
                  {
                    ":block/uid": "kK8ezxt2Y"
                  }
                ],
                "refs": [
                  {
                    "uid": "kK8ezxt2Y"
                  }
                ],
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                "uid": "8GVtPmr-Z",
                "edit-time": 1620145993261,
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              },
              {
                "string": "This code is open source! If you have ideas for improvements or run into a bug feel free to fork it or report it over on the [Github repo](https://github.com/8bitgentleman/Roam-Render-Components)",
                "create-time": 1620145999215,
                "uid": "3YSGWWK-j",
                "edit-time": 1620147021598,
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              }
            ],
            "uid": "I5uDr5zNT",
            "edit-time": 1620147003549,
            ":edit/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            }
          },
          {
            "edit-time": 1620141525646,
            "children": [
              {
                "edit-time": 1619703312394,
                "refs": [
                  {
                    "uid": "tICCuVAmm"
                  },
                  {
                    "uid": "OXcXjYY6j"
                  }
                ],
                "uid": "NRyFpS4B1",
                ":block/refs": [
                  {
                    ":block/uid": "tICCuVAmm"
                  },
                  {
                    ":block/uid": "OXcXjYY6j"
                  }
                ],
                "string": "{{[[roam/render]]:((OXcXjYY6j))}}",
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                "create-time": 1619693079222,
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              }
            ],
            "refs": [
              {
                "uid": "sst_EWLEn"
              }
            ],
            "uid": "CJFb_gzzQ",
            ":block/refs": [
              {
                ":block/uid": "sst_EWLEn"
              }
            ],
            "string": "TODO Progress Bar [[roam/templates]]",
            ":create/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            },
            "create-time": 1619703335030,
            ":edit/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            }
          },
          {
            "string": "Example",
            "create-time": 1619880796061,
            ":create/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            },
            "children": [
              {
                "edit-time": 1620145913922,
                "children": [
                  {
                    "edit-time": 1620145925561,
                    "children": [
                      {
                        "string": "explanation",
                        "create-time": 1620145925548,
                        "uid": "SX-isK4Cz",
                        "edit-time": 1620145942727,
                        ":create/user": {
                          ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                        },
                        ":edit/user": {
                          ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                        }
                      },
                      {
                        "string": "{{[[DONE]]}} Sub task",
                        "create-time": 1620145930486,
                        ":block/refs": [
                          {
                            ":block/uid": "Z3bw-FWoL"
                          }
                        ],
                        "refs": [
                          {
                            "uid": "Z3bw-FWoL"
                          }
                        ],
                        ":create/user": {
                          ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                        },
                        "uid": "25mFC-rzH",
                        "edit-time": 1620145934620,
                        ":edit/user": {
                          ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                        }
                      }
                    ],
                    "refs": [
                      {
                        "uid": "Yvdz7gCKq"
                      }
                    ],
                    "uid": "l2_ImGRfh",
                    ":block/refs": [
                      {
                        ":block/uid": "Yvdz7gCKq"
                      }
                    ],
                    "string": "{{[[TODO]]}} Task one",
                    ":create/user": {
                      ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                    },
                    "create-time": 1620145920911,
                    ":edit/user": {
                      ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                    }
                  },
                  {
                    "string": "{{[[DONE]]}} A done task",
                    "create-time": 1620145934606,
                    ":block/refs": [
                      {
                        ":block/uid": "Z3bw-FWoL"
                      }
                    ],
                    "refs": [
                      {
                        "uid": "Z3bw-FWoL"
                      }
                    ],
                    ":create/user": {
                      ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                    },
                    "uid": "P_tP6L0aj",
                    "edit-time": 1620145939907,
                    ":edit/user": {
                      ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                    }
                  }
                ],
                "refs": [
                  {
                    "uid": "tICCuVAmm"
                  },
                  {
                    "uid": "OXcXjYY6j"
                  }
                ],
                "uid": "wKVMQ_pQh",
                ":block/refs": [
                  {
                    ":block/uid": "tICCuVAmm"
                  },
                  {
                    ":block/uid": "OXcXjYY6j"
                  }
                ],
                "string": "Super Important work tasks\n{{[[roam/render]]:((OXcXjYY6j))}}",
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                "create-time": 1620145904515,
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              }
            ],
            "uid": "mvHzpZQjv",
            "edit-time": 1619880798180,
            ":edit/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            }
          },
          {
            "string": "code",
            "create-time": 1619695829590,
            ":create/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            },
            "children": [
              {
                "string": "```clojure\n(ns progress-bar-v6\n  (:require\n   [reagent.core :as r]\n   [datascript.core :as d]\n   [roam.datascript.reactive :as dr]\n   [clojure.pprint :as pp]))```",
                "create-time": 1619695790193,
                "uid": "5ASDrTzRA",
                "edit-time": 1620141488945,
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              },
              {
                "string": "```clojure\n(defn find-db-id \n  \"Finds the database ID given a page title\"\n  [pagename]\n  \n  @(dr/q '[:find (pull ?e [:db/id]) .\n                      :in $ ?pagename\n                      :where\n                      [?e :node/title ?pagename]]\n                    pagename)\n  )\n(defonce TODO-ID (atom (:db/id (find-db-id \"TODO\"))))\n(defonce DONE-ID (atom (:db/id (find-db-id \"DONE\"))))\n\n(defn flatten-block \n  \"Flattens a blocks children into a flat list\"\n  [acc block]\n  (reduce flatten-block\n          (conj acc (dissoc block :block/children))\n          (:block/children block)))\n\n(defn flatten-refs \n  \"Flattens blocks refs into a flat list\"\n  [ block]\n  (->> block\n     (map :block/refs)\n      (flatten )\n    \t(map :db/id)\n    \t(frequencies))\n  )\n(defn find-child-refs \n  \"Returns all _refs for children blocks given a parent block uid\"\n  [block-uid]\n  (flatten-refs  (flatten-block []\n             @(dr/q '[:find (pull ?e [:block/refs{:block/children ...}]) .\n                      :in $ ?uid\n                      :where\n                      [?e :block/uid ?uid]]\n                    block-uid)))\n  )\n```",
                "create-time": 1620141495001,
                "uid": "RNuP99a8t",
                "edit-time": 1620141501001,
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              },
              {
                "string": "```clojure\n\n(defn main [{:keys [block-uid]} & args]\n  (let [tasks (r/atom {\n                       :todo (get (find-child-refs block-uid) @TODO-ID 0)\n                       :done (get (find-child-refs block-uid) @DONE-ID 0) \n                       } )]\n   \n  [:div\n         [:div {:style {:display \"flex\"\n                             :align-items \"center\"}\n                     }\n               [:span [:progress {\n                  :id \"todo-progress-bar\"\n                  :name \"percent-done\"\n                  :value (:done @tasks)\n                  :max (+ (:todo @tasks) (:done @tasks))\n                  :style{\n\n                         :margin-left \"10px\"\n                         :margin-right \"10px\"\n                         }}]\n                ]\n                [:span [:div  (str (:done @tasks)  \"/\"\n                                  (+ \n                                    (:done @tasks)\n                                    (:todo @tasks))\n                                \" Done\"\n                                )]]\n\n               ]\n       ]\n  ))\n;\n```",
                "create-time": 1619695790193,
                "uid": "OXcXjYY6j",
                "edit-time": 1620144071130,
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              }
            ],
            "uid": "xRFZkxVA7",
            "edit-time": 1619702943924,
            ":edit/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            }
          },
          {
            "string": "CSS (optional)",
            "create-time": 1620143946402,
            ":create/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            },
            "children": [
              {
                "edit-time": 1620143952444,
                "children": [
                  {
                    "string": "Strike through DONE items",
                    "create-time": 1620143970672,
                    ":create/user": {
                      ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                    },
                    "children": [
                      {
                        "string": "```css\n\ndiv.rm-block[data-page-links*=\"DONE\"]>.rm-block-main {\n  color:rgb(180,180,180);\n   text-decoration: line-through;\n}\n```",
                        "create-time": 1620143952913,
                        "uid": "a3yDARk16",
                        "edit-time": 1620144003698,
                        ":create/user": {
                          ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                        },
                        ":edit/user": {
                          ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                        }
                      }
                    ],
                    "uid": "f9JcUoQ6v",
                    "edit-time": 1620143982666,
                    ":edit/user": {
                      ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                    }
                  }
                ],
                "refs": [
                  {
                    "uid": "LT6P4I6DS"
                  }
                ],
                "uid": "Exgwh8OWH",
                ":block/refs": [
                  {
                    ":block/uid": "LT6P4I6DS"
                  }
                ],
                "string": "{{[[roam/css]]}}",
                ":create/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                },
                "create-time": 1620143947967,
                ":edit/user": {
                  ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
                }
              }
            ],
            "uid": "Z7kZGuPMw",
            "edit-time": 1620145669844,
            ":edit/user": {
              ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
            }
          }
        ],
        "refs": [
          {
            "uid": "05-04-2021"
          }
        ],
        "uid": "XCJ5ghjjU",
        ":block/refs": [
          {
            ":block/uid": "05-04-2021"
          }
        ],
        "string": "TODO Progress Bar - v6 [[May 4th, 2021]]",
        ":create/user": {
          ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
        },
        "create-time": 1619695827863,
        ":edit/user": {
          ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
        }
      }
    ],
    "uid": "tICCuVAmm",
    "edit-time": 1619702918387,
    ":edit/user": {
      ":user/uid": "rTvmoxu9FGSWal8SbCZiywCL2Nm1"
    }
  }
]
